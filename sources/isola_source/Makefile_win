# run "C:\Program Files (x86)\Intel\oneAPI\setvars.bat"
# To run make on windows use nmake -f Makefile_win

FC=ifort
FFLAGS = -O3 -heap-arrays

.f90.obj:
    $(FC) $(FFLAGS) -c $<

.f.obj:
    $(FC) $(FFLAGS) -c $<

.for.obj:
    $(FC) $(FFLAGS) -c $<

all: gr_xyz.exe elemse.exe

OBJ1=dimension1.obj dimension2.obj parameter.obj allocateArray.obj initdata.obj reflect0.obj reflect1.obj reflect2.obj reflect3.obj reflect4.obj reflect5.obj ff0ad.obj dll2km.obj gr_xyz.obj
OBJ2=elemse.obj

gr_xyz.exe: $(INC) $(OBJ1)
    $(FC) $(FFLAGS) -o $@ $(OBJ1)

elemse.exe: $(INC) $(OBJ2)
    $(FC) $(FFLAGS) -o $@ $(OBJ2)


clean:
	- del *.obj *.mod gr_xyz.exe
